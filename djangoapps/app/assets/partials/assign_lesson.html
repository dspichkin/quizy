<md-dialog aria-label="assign" >
    <md-content style="min-width: 400px;
    min-height: 320px;
    padding: 20px;">
        <div ng-if="model.modal.loading">
            <div style="background-color: black;
                width: 100%;
                height: 100%;
                position: absolute;
                opacity: 0.4;
                margin: -20px;
                z-index: 10;
                "></div>
            <div style="background-image: url('/assets/img/loading.gif');
                background-repeat: no-repeat;
                width: 100%;
                height: 100%;
                position: absolute;
                left: 36%;
                top: 28%;
                z-index: 11;"></div>
        </div>

        <div style="margin-top: -20px;" ng-if="model.modal_enroll.show_create_account==false">
            <h4>Assign pupil to the lesson</h4>

            <md-input-container>
                <label>Input email of the pupil:</label>
                <input type="text" ng-model="model.modal_enroll.inputed_address" md-maxlength="100"
                ng-change="change_inputed_address()" data-ng-model-options="{debounce: 350}">
            </md-input-container>
            <div ng-if="model.modal_enroll.show_error" style="color:red;">
                <p>{{model.modal_enroll.error_message}}</p>
            </div>

            <md-content style="height: 100px;margin: -15px 0 0 0;">
                <md-list>
                     <md-list-item ng-repeat="item in model.modal_enroll.mypupils track by $index" style="    min-height: 10px;">
                        <div class="enroll_select_email"  ng-click="select_pupil($index)">{{ item }}</div>
                     </md-list-item>
                </md-list>
            </md-content>

        </div>
         <div ng-if="model.modal_enroll.show_create_account==false" 
            class="modal-footer" style="position: absolute;
            bottom: 0;
            right: 0;
            padding: 20px;
            width:100%;">
            <md-button class="md-raised" ng-click="ok()" ng-disabled="submit_disabled==true">Ok</md-button>
            <md-button class="md-raised" ng-click="closeDialog()">Cancel</md-button>
        </div>
         <div style="margin-top: -20px;" ng-if="model.modal_enroll.show_create_account==true">
            <h4>Create new account</h4>
            <p>Email  <b>{{model.modal_enroll.inputed_address}}</b>
            doen't exist.</p>
            <p>Create new account and assign the lesson?</p>
        </div>
        <div ng-if="model.modal_enroll.show_create_account==true" 
            class="modal-footer" style="position: absolute;
            bottom: 0;
            right: 0;
            padding: 20px;
            width:100%;">
            <md-button class="md-raised" ng-click="createAccount()">Yes</md-button>
            <md-button class="md-raised" ng-click="cancelCreateAccount()">No</md-button>
        </div>
    </md-content>
</md-dialog>